(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ec1048d4"],{"1f98":function(t,e,r){"use strict";var i=r("f425"),n=RegExp.prototype.exec,a=String.prototype.replace,s=n,o="lastIndex",c=function(){var t=/a/,e=/b*/g;return n.call(t,"a"),n.call(e,"a"),0!==t[o]||0!==e[o]}(),u=void 0!==/()??/.exec("")[1],l=c||u;l&&(s=function(t){var e,r,s,l,f=this;return u&&(r=new RegExp("^"+f.source+"$(?!\\s)",i.call(f))),c&&(e=f[o]),s=n.call(f,t),c&&s&&(f[o]=f.global?s.index+s[0].length:e),u&&s&&s.length>1&&a.call(s[0],r,function(){for(l=1;l<arguments.length-2;l++)void 0===arguments[l]&&(s[l]=void 0)}),s}),t.exports=s},"22e9":function(t,e,r){var i=r("88dd"),n=r("94ac"),a=r("8b37")("match");t.exports=function(t){var e;return i(t)&&(void 0!==(e=t[a])?!!e:"RegExp"==n(t))}},"2f03":function(t,e,r){var i=r("c481"),n=r("f01a");t.exports=function(t){return function(e,r){var a,s,o=String(n(e)),c=i(r),u=o.length;return c<0||c>=u?t?"":void 0:(a=o.charCodeAt(c),a<55296||a>56319||c+1===u||(s=o.charCodeAt(c+1))<56320||s>57343?t?o.charAt(c):a:t?o.slice(c,c+2):s-56320+(a-55296<<10)+65536)}}},"34a3":function(t,e,r){"use strict";var i=r("a013"),n=r("db4b"),a=r("b146"),s=r("c481"),o=r("b0f4"),c=r("35dd"),u=Math.max,l=Math.min,f=Math.floor,p=/\$([$&`']|\d\d?|<[^>]*>)/g,d=/\$([$&`']|\d\d?)/g,h=function(t){return void 0===t?t:String(t)};r("629c")("replace",2,function(t,e,r,v){return[function(i,n){var a=t(this),s=void 0==i?void 0:i[e];return void 0!==s?s.call(i,a,n):r.call(String(a),i,n)},function(t,e){var n=v(r,t,this,e);if(n.done)return n.value;var f=i(t),p=String(this),d="function"===typeof e;d||(e=String(e));var b=f.global;if(b){var x=f.unicode;f.lastIndex=0}var m=[];while(1){var k=c(f,p);if(null===k)break;if(m.push(k),!b)break;var y=String(k[0]);""===y&&(f.lastIndex=o(p,a(f.lastIndex),x))}for(var w="",O=0,_=0;_<m.length;_++){k=m[_];for(var C=String(k[0]),j=u(l(s(k.index),p.length),0),S=[],E=1;E<k.length;E++)S.push(h(k[E]));var R=k.groups;if(d){var $=[C].concat(S,j,p);void 0!==R&&$.push(R);var I=String(e.apply(void 0,$))}else I=g(C,p,j,S,R,e);j>=O&&(w+=p.slice(O,j)+I,O=j+C.length)}return w+p.slice(O)}];function g(t,e,i,a,s,o){var c=i+t.length,u=a.length,l=d;return void 0!==s&&(s=n(s),l=p),r.call(o,l,function(r,n){var o;switch(n.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,i);case"'":return e.slice(c);case"<":o=s[n.slice(1,-1)];break;default:var l=+n;if(0===l)return r;if(l>u){var p=f(l/10);return 0===p?r:p<=u?void 0===a[p-1]?n.charAt(1):a[p-1]+n.charAt(1):r}o=a[l-1]}return void 0===o?"":o})}})},"35dd":function(t,e,r){"use strict";var i=r("4819"),n=RegExp.prototype.exec;t.exports=function(t,e){var r=t.exec;if("function"===typeof r){var a=r.call(t,e);if("object"!==typeof a)throw new TypeError("RegExp exec method returned something other than an Object or null");return a}if("RegExp"!==i(t))throw new TypeError("RegExp#exec called on incompatible receiver");return n.call(t,e)}},"3a59":function(t,e,r){"use strict";var i=r("1f98");r("b2f5")({target:"RegExp",proto:!0,forced:i!==/./.exec},{exec:i})},"432d":function(t,e,r){},"550c":function(t,e,r){"use strict";var i=r("6c7e"),n=r.n(i);n.a},"629c":function(t,e,r){"use strict";r("3a59");var i=r("e5ef"),n=r("743d"),a=r("b6f1"),s=r("f01a"),o=r("8b37"),c=r("1f98"),u=o("species"),l=!a(function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}),f=function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var r="ab".split(t);return 2===r.length&&"a"===r[0]&&"b"===r[1]}();t.exports=function(t,e,r){var p=o(t),d=!a(function(){var e={};return e[p]=function(){return 7},7!=""[t](e)}),h=d?!a(function(){var e=!1,r=/a/;return r.exec=function(){return e=!0,null},"split"===t&&(r.constructor={},r.constructor[u]=function(){return r}),r[p](""),!e}):void 0;if(!d||!h||"replace"===t&&!l||"split"===t&&!f){var v=/./[p],g=r(s,p,""[t],function(t,e,r,i,n){return e.exec===c?d&&!n?{done:!0,value:v.call(e,r,i)}:{done:!0,value:t.call(r,e,i)}:{done:!1}}),b=g[0],x=g[1];i(String.prototype,t,b),n(RegExp.prototype,p,2==e?function(t,e){return x.call(t,this,e)}:function(t){return x.call(t,this)})}}},"6c7e":function(t,e,r){},7364:function(t,e,r){var i=r("ddf7").f,n=Function.prototype,a=/^\s*function ([^ (]*)/,s="name";s in n||r("dad2")&&i(n,s,{configurable:!0,get:function(){try{return(""+this).match(a)[1]}catch(t){return""}}})},"7bc1":function(t,e,r){"use strict";var i=r("22e9"),n=r("a013"),a=r("0d5f"),s=r("b0f4"),o=r("b146"),c=r("35dd"),u=r("1f98"),l=r("b6f1"),f=Math.min,p=[].push,d="split",h="length",v="lastIndex",g=4294967295,b=!l(function(){RegExp(g,"y")});r("629c")("split",2,function(t,e,r,l){var x;return x="c"=="abbc"[d](/(b)*/)[1]||4!="test"[d](/(?:)/,-1)[h]||2!="ab"[d](/(?:ab)*/)[h]||4!="."[d](/(.?)(.?)/)[h]||"."[d](/()()/)[h]>1||""[d](/.?/)[h]?function(t,e){var n=String(this);if(void 0===t&&0===e)return[];if(!i(t))return r.call(n,t,e);var a,s,o,c=[],l=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),f=0,d=void 0===e?g:e>>>0,b=new RegExp(t.source,l+"g");while(a=u.call(b,n)){if(s=b[v],s>f&&(c.push(n.slice(f,a.index)),a[h]>1&&a.index<n[h]&&p.apply(c,a.slice(1)),o=a[0][h],f=s,c[h]>=d))break;b[v]===a.index&&b[v]++}return f===n[h]?!o&&b.test("")||c.push(""):c.push(n.slice(f)),c[h]>d?c.slice(0,d):c}:"0"[d](void 0,0)[h]?function(t,e){return void 0===t&&0===e?[]:r.call(this,t,e)}:r,[function(r,i){var n=t(this),a=void 0==r?void 0:r[e];return void 0!==a?a.call(r,n,i):x.call(String(n),r,i)},function(t,e){var i=l(x,t,this,e,x!==r);if(i.done)return i.value;var u=n(t),p=String(this),d=a(u,RegExp),h=u.unicode,v=(u.ignoreCase?"i":"")+(u.multiline?"m":"")+(u.unicode?"u":"")+(b?"y":"g"),m=new d(b?u:"^(?:"+u.source+")",v),k=void 0===e?g:e>>>0;if(0===k)return[];if(0===p.length)return null===c(m,p)?[p]:[];var y=0,w=0,O=[];while(w<p.length){m.lastIndex=b?w:0;var _,C=c(m,b?p:p.slice(w));if(null===C||(_=f(o(m.lastIndex+(b?0:w)),p.length))===y)w=s(p,w,h);else{if(O.push(p.slice(y,w)),O.length===k)return O;for(var j=1;j<=C.length-1;j++)if(O.push(C[j]),O.length===k)return O;w=y=_}}return O.push(p.slice(y)),O}]})},b0f4:function(t,e,r){"use strict";var i=r("2f03")(!0);t.exports=function(t,e,r){return e+(r?i(t,e).length:1)}},c84b:function(t,e,r){"use strict";r.r(e);var i=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"detail"},[r("Header",{attrs:{title:t.title,isLeft:!0,isRight:!0}}),r("div",{staticClass:"detail-con"},[t.isLoading?r("Loading"):t._e(),t.isLoading?t._e():[r("DetailList",{attrs:{book:t.book}}),r("v-touch",{on:{tap:t.toArticle}},[r("van-button",{attrs:{type:"danger",block:"",size:"small"}},[t._v("开始阅读")])],1),r("v-touch",{staticClass:"more",attrs:{tag:"a"},on:{tap:t.toChapter}},[t._v("查看目录")])]],2)],1)},n=[],a=(r("2338"),r("f763"),r("fb37"),r("792e"),r("7696")),s=(r("63ff"),r("e71e")),o=r("a506"),c=(r("7364"),r("06d0")),u=r("0e17"),l=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"detail-list"},[r("div",{staticClass:"detail-list-pic"},[r("img",{attrs:{src:t.book.cover}})]),r("div",{staticClass:"detail-list-info"},[r("h2",{staticClass:"detail-list-tit"},[t._v(t._s(t.book.title))]),r("p",{staticClass:"detail-list-sp1"},[r("span",[t._v(t._s(t.book.author))]),t._v("|"),r("span",[t._v(t._s(t.book.minorCate))]),t._v("|"),r("span",[t._v(t._s((t.book.wordCount/1e4).toFixed(2))+"万字")])]),r("p",{staticClass:"detail-list-time"},[t._v("更新时间: "),r("span",[t._v(t._s(t.time))])]),r("p",{staticClass:"detail-list-last"},[t._v("最新文章: "+t._s(t.book.lastChapter))])])])},f=[],p=(r("34a3"),r("7bc1"),{name:"DetailList",props:["book"],computed:{time:function(){var t=this.book.updated.split(".")[0];return t.replace("T","  ")}}}),d=p,h=(r("550c"),r("6691")),v=Object(h["a"])(d,l,f,!1,null,"1e36aeb7",null),g=v.exports,b=r("591a");function x(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,i)}return r}function m(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?x(r,!0).forEach(function(e){Object(o["a"])(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):x(r).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}var k={name:"Detail",components:{Header:c["a"],Loading:u["a"],DetailList:g},data:function(){return{title:"",isLoading:!0,book:{},isOff:!1,source:{}}},watch:{$route:function(t){"detail"===t.name&&(this.isLoading=!0,this.getDetail())}},computed:Object(b["c"])({id:"id",sourceId:"sourceId",list:"list"}),created:function(){this.getDetail()},deactivated:function(){this.$destroy()},methods:m({getDetail:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(){var e,r,i,n=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!this.isOff){t.next=2;break}return t.abrupt("return");case 2:return this.isOff=!0,e=this.$route.params.id,t.next=6,this.axios.get("book/"+e);case 6:if(r=t.sent,0!==r.flag){t.next=11;break}return a["a"].clear(),Object(a["a"])(r.msg),t.abrupt("return");case 11:return this.title=r.book.title,this.book=r.book,t.next=15,this.axios.get("source/",{params:{id:e}});case 15:if(i=t.sent,0!==i.flag){t.next=20;break}return a["a"].clear(),Object(a["a"])(i.msg),t.abrupt("return");case 20:this.source=i.books,this.isOff=!1,setTimeout(function(){n.isLoading=!1},300);case 23:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),getChapter:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.axios.get("/chapter",{params:{id:this.source._id}});case 2:if(e=t.sent,0!==e.flag){t.next=7;break}return a["a"].clear(),Object(a["a"])(e.msg),t.abrupt("return");case 7:this.upList({id:e.id,chapters:e.chapters}),this.upN(0),this.$nextTick(function(){a["a"].clear()}),this.$router.push("/article");case 11:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},Object(b["b"])({upId:"updateId",upSourceId:"updateSourceId",upTit:"updateTit",upList:"updateList",upN:"updateN"}),{toChapter:function(){a["a"].loading({mask:!0,message:"加载中..."}),this.setState(),this.$router.push("/chapter")},toArticle:function(){this.setState(),this.list.chapters&&this.list.id===this.source._id?this.$router.push("/article"):(a["a"].loading({mask:!0,message:"加载中..."}),this.getChapter())},setState:function(){this.upId(this.book._id),this.upTit(this.book.title),this.upSourceId(this.source._id),setTimeout(function(){a["a"].clear()},300)}})},y=k,w=(r("f979"),Object(h["a"])(y,i,n,!1,null,"235d7e24",null));e["default"]=w.exports},f425:function(t,e,r){"use strict";var i=r("a013");t.exports=function(){var t=i(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},f979:function(t,e,r){"use strict";var i=r("432d"),n=r.n(i);n.a}}]);
//# sourceMappingURL=chunk-ec1048d4.853c6a19.js.map